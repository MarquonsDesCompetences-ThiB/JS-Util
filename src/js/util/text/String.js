"use strict";
const randomstring = require("randomstring");

class String {
  constructor() {}

  /**
   * Count the number of UTF-8 characters represented into the string,
   * for example characters generated by encodeURI
   * @param {*} str
   */
  static count_utf8_characters(str) {
    return str.match(/%[A-Z0-9]{2}/).length;
  }

  static has_special_characters(str) {
    // $?!:--~_*^`"/\{}[]
    return /[\$\?\!\:--~_\*\^`"\/\\\{\}\[\]]/.test(str);
  }

  static is_string(val) {
    return typeof val === "string" || val instanceof String;
  }

  static random(length) {
    return randomstring.generate({
      length: length,
    });
  }
}

if (typeof process !== "undefined") {
  module.exports = String;
}
